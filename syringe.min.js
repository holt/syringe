// Array.filter polyfill (MDN)
[].filter||(Array.prototype.filter=function(c,f){if(null==this)throw new TypeError;var b=Object(this),g=b.length>>>0;if("function"!=typeof c)throw new TypeError;for(var d=[],a=0;a<g;a++)if(a in b){var e=b[a];c.call(f,e,a,b)&&d.push(e)}return d});

// Array.map polyfill (MDN)
[].map||(Array.prototype.map=function(d,f){var g,e,a;if(null==this)throw new TypeError(" this is null or not defined");var b=Object(this),h=b.length>>>0;if("function"!==typeof d)throw new TypeError(d+" is not a function");f&&(g=f);e=Array(h);for(a=0;a<h;){var c;a in b&&(c=b[a],c=d.call(g,c,a,b),e[a]=c);a++}return e});

// Array.reduce polyfill (MDN)
"function"!==typeof Array.prototype.reduce&&(Array.prototype.reduce=function(d,e){if(null===this||"undefined"===typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof d)throw new TypeError(d+" is not a function");var a=0,f=this.length>>>0,b,c=!1;1<arguments.length&&(b=e,c=!0);for(;f>a;++a)this.hasOwnProperty(a)&&(c?b=d(b,this[a],a,this):(b=this[a],c=!0));if(!c)throw new TypeError("Reduce of empty array with no initial value");return b});

// Function.bind polyfill (MDN)
Function.prototype.bind||(Function.prototype.bind=function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=Array.prototype.slice.call(arguments,1),e=this,a=function(){},c=function(){return e.apply(this instanceof a&&b?this:b,d.concat(Array.prototype.slice.call(arguments)))};a.prototype=this.prototype;c.prototype=new a;return c});

// syringe.min.js v0.2.2
(function(){var k=this,m=function(n){var g={},d={},j={}.hasOwnProperty,m=[].slice,r=Object.prototype.toString,h=function(b,a){var c=r.call(b).slice(8,-1);return a&&c.toLowerCase()||c},l=function(b,a,c){a=a||this;b=b.split(c||".");return b.filter(function(a){return a.length}).reduce(function(a,b,c,d){if(a)return a[d[c]]},a)},q=function(b,a,c){a=a||this;b=b.split(c||".");var e,f;e=0;for(f=b.length;e<f;e++)c=b[e],a=a[c]=a[c]||{};return a},s=function(b){return b.map(function(a){return l(a,d)},this)}, p=function(b,a){var c=m.call(arguments);return a.apply(this,s(b).concat(c.slice(2,c.length)))},t=function(b,a){var c=document,e=c.getElementsByTagName("head")[0]||c.documentElement,f=c.createElement("script"),d=!1;f.src=b;f.onload=f.onreadystatechange=function(){if(!d&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState))d=!0,f.onload=f.onreadystatechange=null,e&&f.parentNode&&e.removeChild(f),"function"===h(a,!0)&&a()};e.insertBefore(f,e.firstChild)},d=n&&"object"===h(n,!0)? n:d;g.register=g.add=function(b,a,c){if("object"===h(b,!0)){for(var e in b)j.call(b,e)&&this.add.apply(this,[e,b[e]]);return this}if(d[b])throw Error('Key "'+b+'" already exists in the map; use .remove() to unregister it first!');"function"===h(a,!0)&&c&&(a=this.on(c,a));d[b]=a;return this};g.unregister=g.remove=function(b){var a={},c;for(c in d)j.call(d,c)&&!(j.call(d,b)&&c===b)&&(a[c]=d[c]);d=a;return this};g.bind=g.on=function(){var b=k,a,c,e,f,d,b;a=[].slice.call(arguments);c="String"===h(a[0])? !0:!1;switch(a.length){case 2:return p.bind(b,a[0],a[1]);case 3:if(c)e=a[0],f=a[1],d=a[2];else return p.bind(a[2],a[0],a[1]);break;case 4:e=a[0],f=a[1],d=a[2],b=a[3]}a=e.split(".");c=1<a.length?a.pop():!1;d=p.bind(b,f,d);c?q(a.join("."),b)[c]=d:b[a.join(".")]=d;return this};g.exec=function(b,a,c){c=c||this;a="array"===h(a,!0)?a:[a];var e=this.get(b);return"string"===h(b,!0)&&"function"===h(e,!0)?e.apply(c,a):!1};g.get=function(b){return"string"===h(b,!0)?(b=l(b,d),"undefined"!==h(b,!0)?b:!1):d};g.set= function(b,a){var c=b.split("."),e=1<c.length?c.pop():!1;if("undefined"===h(l(b,d),!0))throw Error('Key "'+b+'" does not exist in the map!');e?q(c.join("."),d)[e]=a:d[c.toString()]=a;return this};g.fetch=function(b,a){var c=this,e=0,d=function(){var d=++e,f=0,g;for(g in b)j.call(b,g)&&f++;if(d===f){for(var h in b)j.call(b,h)&&b[h].bind&&c.add(h,l(b[h].bind,k));a.call(c)}},g;for(g in b)j.call(b,g)&&t(b[g].path,d)};g.wrap=function(b,a,c){c=c||this;var d=this.get(b);return"function"===h(d,!0)&&"function"=== h(a,!0)?this.set(b,function(){var f=arguments;return a.apply(this,[function(){f=arguments.length?arguments:f;return d.apply(c,f)},b,f])}):!1};g.VERSION="0.2.2";return g};k.Syringe=m();k.Syringe.create=m}).call(this);